# Система автобаланса для RPG Maker MV

## Описание
Система автоматического подбора врагов в зависимости от среднего уровня партии игроков.

## Функции

### getAveragePartyLevel()
Возвращает средний уровень партии игроков.

### createAutoBalancedEncounter()
Создает массив ID врагов для автобалансной встречи.
- Автоматически выбирает врагов на основе уровня партии
- Добавляет шанс на босса (5%) для партий уровня 15+

### createAutoBalancedTroop()
Создает готовую группу врагов (Game_Troop) с автобалансом.

### getEnemyDifficultyByLevel(level)
Возвращает диапазон сложности врагов для указанного уровня.

## Диапазоны сложности

| Уровень партии | Враги | Сложность |
|---------------|-------|-----------|
| 1-5 | 1-3 | Очень слабые |
| 6-10 | 4-6 | Слабые |
| 11-15 | 7-9 | Средние |
| 16-20 | 10-12 | Сильные |
| 21-25 | 13-15 | Очень сильные |
| 26-30 | 16-18 | Элитные |
| 31+ | 19-21 | Финальные |

## Использование в событиях

### 1. Создание случайной встречи
```
◆ Скрипт: enemies = AutoBalanceSystem.createAutoBalancedEncounter();
◆ Скрипт: console.log("Встреча:", enemies);
```

### 2. Проверка среднего уровня
```
◆ Скрипт: level = AutoBalanceSystem.getAveragePartyLevel();
◆ Скрипт: console.log("Средний уровень партии:", level);
```

### 3. Настройка конкретной встречи
```
◆ Скрипт: 
var enemies = [];
var partyLevel = AutoBalanceSystem.getAveragePartyLevel();

// Уровни 1-10: только обычные враги
if (partyLevel <= 10) {
    enemies = [1, 2, 3]; // Пример для начальных уровней
} 
// Уровни 11+: добавляем шанс босса
else if (Math.random() < 0.3) {
    enemies = [22, 23, 24]; // Пример босс-группы
} else {
    enemies = AutoBalanceSystem.createAutoBalancedEncounter();
}
```

## Примеры событий

### Случайная встреча в лесу
```
◆ Ветвление условий: Случайное число (1, 5)
  - Когда [1, 2]
    ◆ Скрипт: enemies = AutoBalanceSystem.createAutoBalancedEncounter();
    ◆ Скрипт: $gameTroop.setup(enemies);
    ◆ Показать сообщ.: Обнаружены враги!
    ◆ Начать битву: (оставить пустым)
  - Когда [3, 4]
    ◆ Показать сообщ.: Тишина... Можно идти дальше.
  - Когда [5]
    ◆ Показать сообщ.: Что-то большое приближается!
    ◆ Скрипт: enemies = [27]; // Финальный босс
    ◆ Скрипт: $gameTroop.setup(enemies);
    ◆ Начать битву: (оставить пустым)
```

## Враги в игре

### Обычные враги (ID 1-21)
- **Группа 1**: Крыса, Слизень, Мышь-воин
- **Группа 2**: Гоблин-разбойник, Ядовитый слизень, Орк-охотник
- **Группа 3**: Летучая мышь-вампир, Кристаллический слизень, Орк-берсерк
- **Группа 4**: Гоблин-шаман, Минотавр-воин, Орк-вождь
- **Группа 5**: Архивампир, Повелитель слизней, Повелитель орков
- **Группа 6**: Архимаг гоблинов, Король минотавров, Император орков
- **Группа 7**: Древний вампир, Древний слизень, Древний минотавр

### Боссы (ID 22-28)
- Дракон пещер
- Дракон ледяных пещер
- Дракон огненных глубин
- Дракон молний
- Дракон тьмы
- Древний дракон
- Повелитель Драконов

## Преимущества системы

1. **Динамическая сложность**: Враги подбираются автоматически
2. **Прогрессивная сложность**: От слабых к сильным
3. **Баланс для всех**: Подходит для партий любого состава
4. **Гибкость**: Легко настраивается под конкретные нужды
5. **Расширяемость**: Можно добавлять новых врагов и боссов

## Настройка

Система готова к использованию! Просто активируйте плагин в менеджере плагинов и используйте функции в событиях.